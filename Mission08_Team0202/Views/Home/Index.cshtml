@using TaskModel = Mission08_Team0202.Models.Task
@model List<TaskModel>


@{
    ViewData["Title"] = "Task Manager";
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Time Management Matrix</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
        }
      
        .matrix-section {
            border: 1px solid #000;
            padding: 20px;
            margin-bottom: 8px; /* Bootstrap handles most of the spacing */
        }

        .important {
            background-color: #FFFFA8; /* Light yellow */
        }

        .urgent, .not-urgent {
            border-color: transparent; /* Adjust based on your design */
        }

        .quadrant {
            min-height: 150px; /* Adjust height as needed */
        }

        .quadrant-header {
            font-weight: bold;
        }

        h2 {
            text-align: center;
        }

        h4 {
            text-align: center;
        }
    </style>
</head>
<body>
    <h2>Stephen Covey's Time Management Matrix</h2>
    <br />
    <div class="container">
        <!-- Bootstrap container -->
        <div class="row">
            <!-- Bootstrap row -->
            <!-- Quadrant 1 -->
            <div class="col-md-6">
                <!-- Bootstrap column -->
                <h4>Urgent</h4>
                <div class="matrix-section important urgent">
                <div class="quadrant-header">Quadrant 1</div>
                    <div class="quadrant">
                        @foreach (var task in Model.Where(t => t.Quadrant == 1))
                        {
                            <div class="p-2 mb-2 border bg-light">
                                <p>
                                    @task.Category?.Category1 - @task.Task1 &amp; Due: @task.DueDate
                                    <br />
                                    <small style="font-size: smaller;">
                                        <a asp-action="Edit" asp-route-id="@task.TaskId">Edit</a> |
                                        <form asp-action="Delete" method="post" style="display: inline;">
                                            <input type="hidden" name="id" value="@task.TaskId" />
                                            <button type="submit" onclick="return confirm('Are you sure you want to delete this?');">Delete</button>
                                        </form>
                                        <form asp-action="MarkComplete" asp-route-id="@task.TaskId" method="post" style="display: inline;">
                                            <input type="checkbox" name="completed" onchange="this.form.submit();" @(task.Completed == 1 ? "checked" : "") /> Mark as complete
                                        </form>
                                    </small>
                                </p>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <!-- Quadrant 2 -->
            <div class="col-md-6">
                <!-- Bootstrap column -->
                <h4>Not Urgent</h4>
                <div class="matrix-section important not-urgent">
                <div class="quadrant-header">Quadrant 2</div>
                    <div class="quadrant">
                        @foreach (var task in Model.Where(t => t.Quadrant == 2))
                        {
                            <div class="p-2 mb-2 border bg-light">
                                <p>
                                    @task.Category?.Category1 - @task.Task1 &amp; Due: @task.DueDate
                                    <br />
                                    <small style="font-size: smaller;">
                                        <a asp-action="Edit" asp-route-id="@task.TaskId">Edit</a> |
                                        <form asp-action="Delete" method="post" style="display: inline;">
                                            <input type="hidden" name="id" value="@task.TaskId" />
                                            <button type="submit" onclick="return confirm('Are you sure you want to delete this?');">Delete</button>
                                        </form>
                                        <form asp-action="MarkComplete" asp-route-id="@task.TaskId" method="post" style="display: inline;">
                                            <input type="checkbox" name="completed" onchange="this.form.submit();" @(task.Completed == 1 ? "checked" : "") /> Mark as complete
                                        </form>
                                    </small>
                                </p>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <!-- New row for the next two quadrants -->
            <!-- Quadrant 3 -->
            <div class="col-md-6">
                <!-- Bootstrap column -->
                <h4>Important</h4>
                <div class="matrix-section not-important urgent">
                    <div class="quadrant-header">Quadrant 3</div>
                    <div class="quadrant">
                        @foreach (var task in Model.Where(t => t.Quadrant == 3))
                        {
                            <div class="p-2 mb-2 border bg-light">
                                <p>
                                    @task.Category?.Category1 - @task.Task1 &amp; Due: @task.DueDate
                                    <br />
                                    <small style="font-size: smaller;">
                                        <a asp-action="Edit" asp-route-id="@task.TaskId">Edit</a> |
                                        @* <a asp-action="Delete" asp-route-id="@task.TaskId">Delete</a> *@
                                        <form asp-action="Delete" method="post" style="display: inline;">
                                            <input type="hidden" name="id" value="@task.TaskId" />
                                            <button type="submit" onclick="return confirm('Are you sure you want to delete this?');">Delete</button>
                                        </form>
                                        <form asp-action="MarkComplete" asp-route-id="@task.TaskId" method="post" style="display: inline;">
                                            <input type="checkbox" name="completed" onchange="this.form.submit();" @(task.Completed == 1 ? "checked" : "") /> Mark as complete
                                        </form>
                                    </small>
                                </p>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <!-- Quadrant 4 -->
            <div class="col-md-6">
                <!-- Bootstrap column -->
                <h4>Not Important</h4>
                <div class="matrix-section not-important not-urgent">
                <div class="quadrant-header">Quadrant 4</div>
                    <div class="quadrant">
                        @foreach (var task in Model.Where(t => t.Quadrant == 4))
                        {
                            <div class="p-2 mb-2 border bg-light">
                                <p>
                                    @task.Category?.Category1 - @task.Task1 &amp; Due: @task.DueDate
                                    <br />
                                    <small style="font-size: smaller;">
                                        <a asp-action="Edit" asp-route-id="@task.TaskId">Edit</a> |
                                        <form asp-action="Delete" method="post" style="display: inline;">
                                            <input type="hidden" name="id" value="@task.TaskId" />
                                            <button type="submit" onclick="return confirm('Are you sure you want to delete this?');">Delete</button>
                                        </form>
                                        <form asp-action="MarkComplete" asp-route-id="@task.TaskId" method="post" style="display: inline;">
                                            <input type="checkbox" name="completed" onchange="this.form.submit();" @(task.Completed == 1 ? "checked" : "") /> Mark as complete
                                        </form>
                                    </small>
                                </p>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br /><br />
</body>
</html>